#author: plapacz6@gmail.com
#date: 2022-11-12

TESTED_MODULE1=adder4
TESTED_MODULE2=adder_parameted
EXECUTABLE_SIMULATION1=$(TESTED_MODULE1)_tb
EXECUTABLE_SIMULATION2=$(TESTED_MODULE2)_tb

all: $(EXECUTABLE_SIMULATION1) $(EXECUTABLE_SIMULATION2)
	printf ""
	printf "  run $(EXECUTABLE_SIMULATION1) or $(EXECUTABLE_SIMULATION2)"
	printf "  ctrl + c - TO BREAK"
	printf "  help   - HELP (AFTER BREAK)"
	printf "  finish - TO EXIT SIMULATION"
	printf ""

$(EXECUTABLE_SIMULATION1): $(TESTED_MODULE1).v $(EXECUTABLE_SIMULATION1).v
	iverilog -o $(EXECUTABLE_SIMULATION1)  \
  $(TESTED_MODULE1).v $(EXECUTABLE_SIMULATION1).v
$(EXECUTABLE_SIMULATION2): $(TESTED_MODULE2).v $(EXECUTABLE_SIMULATION2).v
	iverilog -o $(EXECUTABLE_SIMULATION2)  \
  $(TESTED_MODULE2).v $(EXECUTABLE_SIMULATION2).v

.PHONY: clean

clean:
	- rm $(EXECUTABLE_SIMULATION1) $(EXECUTABLE_SIMULATION1).vcd
	- rm $(EXECUTABLE_SIMULATION2) $(EXECUTABLE_SIMULATION2).vcd
